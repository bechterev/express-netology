<%- include("../partials/layout-start", {title: title}) %>
<%- include("../partials/menu") %>
<h1><%= title %></h1>

<div class="container">
    <div class="row">
        <a class="btn btn-sm btn-primary" href="books/create">Добавить книгу</a>

<% if(books.length) { %>
    <table class="table table-striped table-sm  mt-3">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Authors</th>
            <th scope="col">Favorite</th>
            <th scope="col">Description</th>
            <th scope="col">File cover</th>
            <th scope="col">File name</th>
            <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <% books.map((el, idx) => { %>
            <tr>
                <th scope="row"><%= idx + 1 %></th>
                <td style="width: 10% "><%= el.title %></td>
                <td style="width: 10% "><%= el.authors %></td>
                <td style="width: 10% "><%= el.favorite %></td>
                <td style="width: 10% "><%= el.description %></td>
                <td style="width: 20% "><img src="/<%= el.fileName %>" class="img-thumbnail" ></td>
                <td style="width: 10% "><%= el.fileName %></td>
                <td class="text-right">
                    <a class="btn btn-sm btn-success" href="/books/<%= el.id %>">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </a>
                    <a class="btn btn-sm btn-primary" href="/books/update/<%= el.id %>">
                        <i class="fa fa-pencil" aria-hidden="true"></i>
                    </a>
                    <form action="/books/delete/<%= el.id %>" method="POST" class="d-inline">
                        <button class="btn btn-sm btn-danger">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                        </button>
                    </form>
                </td>
            </tr>
        <% }); %>
        </tbody>
    </table>
    <% }else { %>
        <h3 class="mt-5">Записей пока нет</h3>
    <% } %>

    </div>
</div>

    <%- include("../partials/layout-end") %>